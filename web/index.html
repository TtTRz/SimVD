<!DOCTYPE html>
<html lang="en">

<head>

</head>

<body>
  <div id="root"></div>
</body>
<script type="module">
  import init, { html_2_vd } from '../pkg/html2VD.js'
  import vd from '../esm/bundle.js';
  const filterHtml = (html) => {
    return html.trim().replace(/[\n]+[\s]*/g, "")
  }
  const bindButton = () => {
    let btn = document.createElement('button');
    btn.onclick = () => {
      let vdObj_new = html_2_vd(filterHtml(html_new));
      vd.render(vdObj_new)
    }
    btn.innerText = "change title"
    document.body.appendChild(btn)
  }

  const html = `
  <div>hello</div>
    `

  const html_new = `
  <div class="hello">hello title</div>
  `

  const run = async () => {
    await init();
    vd.renderHtml(html, {
      bind: "#root"
    })
  }
  run()
  bindButton()
</script>

</html>